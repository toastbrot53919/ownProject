C:\Users\Toastbrot\Downloads\STRATEGY 01.04.2022\My project\Assets\Scripts\PlayerAndUnitsComponent\AbilityController.cs
This code defines the AbilityController class, which manages a list of abilities and is responsible for casting them. The class has public fields for a fire point and a hit point, as well as lists of learned abilities and the last time abilities were used. It also has private fields for a stats provider and an animation controller. The Awake method sets these private fields and initializes the lastTimeAbilityUsed list. The Update method loops through the learned abilities and calls their OnUpdate method if they have the useUpdate flag set to true. The CastAbility method calls the StartAbilityActivation method with the specified ability and data. The StartAbilityActivation method first calls the ability's PreActivateAbility method, then plays the corresponding animation using the animation controller, and finally either immediately activates the ability or starts a coroutine to activate it after a delay. The AbortAbility method stops the activation coroutine if there is one, otherwise it simply deactivates the ability. The CastAfterDelay coroutine waits for the animation delay and then activates the ability. The AddAbility method adds an ability to the learned abilities list. The checkCooldown method checks if an ability is on cooldown by comparing the last time it was used to the current time and the cooldown. The setCooldown method updates the last time an ability was used in the lastTimeAbilityUsed list or adds a new entry if it wasn't found.