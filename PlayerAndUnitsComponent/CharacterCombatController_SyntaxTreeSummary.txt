C:\Users\Toastbrot\Downloads\STRATEGY 01.04.2022\My project\Assets\Scripts\PlayerAndUnitsComponent\CharacterCombatController.cs
File: CharacterCombatController.cs
- Class: CharacterCombatController
    - characterStats
    - abilityController
    - animationController
    - stunnable
    - comboController
    - Start()
        - characterStats = GetComponent<CharacterStats>()
        - stunnable = GetComponent<IStunnable>()
        - abilityController = GetComponent<AbilityController>()
        - animationController = GetComponent<AnimationController>()
        - comboController = new ComboController()
    - PerformAbility(Ability ability, GameObject target)
        - if stunnable.isStunned()
            - return
        - if abilityController.checkCooldown(ability.name,ability.cooldown)==false
            - return
        - playerController = GetComponent<PlayerController>()
        - if playerController != null
            - playerController.faceIndirectionOfCamera()
        - damageAbility = ability.baseDamage + (ability.strengthScaling * characterStats.strength) + (ability.intelligenceScaling * characterStats.intelligence)
        - critChance = characterStats.criticalChance
        - if Random.Range(0f, 1f) <= critChance
            - damageAbility *= 2
        - abilityData = new AbilityData
            - CasterStats = characterStats
            - Target = target
            - damage = damageAbility
            - CasterController = abilityController
            - CasterCombatController = this
        - abilityController.setCooldown(ability.name,ability.cooldown)
        - comboController.UpdateComboController()
        - abilityController.CastAbility(ability, abilityData)
    - GetCharacterStats()
        - return characterStats